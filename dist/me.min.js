/*! media-engine v1.1.2 | RTLnet */
!function(a){function b(b){a.console&&a.console.log&&console.log("File: "+m+" - "+b)}function c(a){return"[object Object]"==t.call(a)}function d(a){return c(a)?f(a):v(a)?e(a):a}function e(a){for(var b=[],c=0,e=a.length;e>c;c++)b[c]=d(a[c]);return b}function f(a){var b={};for(var c in a)null!==a[c]&&void 0!==a[c]&&(b[c]=d(a[c]));return b}function g(){for(var a={},b=0,e=arguments.length;e>b;b++){var f=arguments[b];for(var h in f)null!==f[h]&&void 0!==f[h]&&(a[h]=c(f[h])?g(a[h],f[h]):d(f[h]))}return a}function h(a){for(var c=0,d=o.length;d>c;c++)if(o[c].id===a)return o[c];return b("No player object found for '"+a+"' id [getPlayerObjectById()]"),null}function i(a){var c=typeof a;if("string"==c)switch(a.toLowerCase()){case"true":return 1;case"false":return 0;default:b("Cannot convert string to integer. [toInteger()]")}else{if("boolean"==c||"number"==c)return a?1:0;b("Cannot convert to integer. [toInteger()]")}}function j(){this._listeners={}}function k(a,b,c){this.jwp=a,this.params=b,this.typeLive=c||!1,this.jwpDomElement=this.jwp.container,this.eStatSession=!0,this.markerReference=null,this.eStatDisabled=!1,this.attachJWPlayerEvents(),this.attachEstat()}function l(){MediaEngine.config.JWPlayer.api.inject&&(y.apiLoaded=!0,y.events.fire("onJwpAPIReady"),y.events.fire("dispatchEvent","onJwpAPIReady"))}a.MediaEngine=a.MediaEngine||{},MediaEngine.version="1.1.2",MediaEngine.config={};var m="media-engine-"+MediaEngine.version+".js",n=[],o=[],p=Array.prototype,q=Object.prototype,r=Function.prototype,s=p.slice,t=q.toString,u=Array.isArray;MediaEngine.config={JWPlayer:{defaultOptions:{width:"100%",aspectratio:"16:9",primary:"flash",autostart:"false",ads:{preroll:null,postroll:null},eStat:{enabled:!1,live:!1,levels:{eStatName:"",eStatSection1:"",eStatSection2:"",eStatSection3:"",eStatSection4:"",eStatSection5:"",eStatGenre:""}},advertising:{client:"vast",skipoffset:5,skipmessage:"XX",skiptext:"Ignorer",admessage:"Votre programme commence dans XX seconde(s)",schedule:{adbreak1:{offset:"pre",tag:null},adbreak2:{offset:"post",tag:null}}}},api:{path:"jwplayer/jwplayer-6.8/jwplayer.js",inject:!0},disableAds:!1},DMPlayer:{defaultOptions:{videoid:null,width:"100%",height:"100%",params:{autoplay:0,"webkit-playsinline":1}},api:{path:"//api.dmcdn.net/all.js",inject:!0}},YTPlayer:{defaultOptions:{videoid:null,width:"100%",height:"100%",params:{autoplay:0,autohide:1,cc_load_policy:0,iv_load_policy:3,enablejsapi:1,showinfo:0,origin:document.location.protocol+"//"+document.location.hostname,wmode:"transparent"}},api:{path:"//www.youtube.com/iframe_api",inject:!0}},eStat:{disabled:!1}},p.indexOf||(p.indexOf=function(a,b){var c,d,e=b?b:0;if(!this)throw new TypeError;if(d=this.length,0===d||e>=d)return-1;for(0>e&&(e=d-Math.abs(e)),c=e;d>c;c++)if(this[c]===a)return c;return-1}),r.bind||(r.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=p.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(p.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e});var v=u||function(a){return"[object Array]"==t.call(a)};j.prototype={constructor:j,addListener:function(a,b){"undefined"==typeof this._listeners[a]&&(this._listeners[a]=[]),this._listeners[a].push(b)},fire:function(a){"string"==typeof a&&(a={type:a}),a.target||(a.target=this),a.type||b("Event object missing 'type' property. [EventCustom()]");for(var c=[],d=arguments.length,e=0;d>e;e++)c.push(arguments[e]);if(c=c.length>1?c.splice(1,c.length-1):[],c=[a].concat(c),this._listeners[a.type]instanceof Array)for(var f=this._listeners[a.type],e=0,g=f.length;g>e;e++)f[e].apply(this,c)},removeListener:function(a,b){if(this._listeners[a]instanceof Array)for(var c=this._listeners[a],d=0,e=c.length;e>d;d++)if(c[d]===b){c.splice(d,1);break}}},k.prototype={constructor:k,getPos:function(){if(!this.typeLive){var a=Math.round(this.jwp.getPosition());if("number"==typeof a)return a}return 0},attachJWPlayerEvents:function(){var a=this;a.jwp.onPlay(function(){if(a.eStatDisabled)return!1;try{a.eStatSession?eStat_ms.TagDS(a.jwpDomElement).sendEvent(eStatPlayState.Play,a.getPos()):(eStat_ms.newStreamUI(a.markerReference,a.params.eStatName,a.params.eStatSection1,a.params.eStatSection2,a.params.eStatSection3,a.params.eStatSection4,a.params.eStatSection5,a.params.eStatGenre),eStat_ms.TagDS(a.jwpDomElement).sendEvent(eStatPlayState.Play,0),a.eStatSession=!0)}catch(c){b(c+"[JWPlayerEstat.onPlay()]")}}),a.typeLive||a.jwp.onPause(function(){if(a.eStatDisabled)return!1;try{eStat_ms.TagDS(a.jwpDomElement).sendEvent(eStatPlayState.Pause,a.getPos())}catch(c){b(c+"[JWPlayerEstat.onPause()]")}}),a.jwp.onIdle(function(){if(a.eStatDisabled)return!1;try{eStat_ms.TagDS(a.jwpDomElement).sendEvent(eStatPlayState.Stop,a.getPos()),a.eStatSession=!1}catch(c){b(c+"[JWPlayerEstat.onIdle()]")}}),a.typeLive||a.jwp.onSeek(function(c){if(a.eStatDisabled)return!1;try{eStat_ms.TagDS(a.jwpDomElement).sendEvent(eStatPlayState.Pause,Math.floor(c.position)),eStat_ms.TagDS(a.jwpDomElement).sendEvent(eStatPlayState.Play,Math.floor(c.offset))}catch(d){b(d+"[JWPlayerEstat.onSeek()]")}}),a.typeLive||a.jwp.onBufferChange(function(c){if(a.eStatDisabled)return!1;if(100===c.bufferPercent&&c.duration>0)try{eStat_ms.TagDS(a.jwpDomElement).setDuration(parseInt(c.duration))}catch(d){b(d+"[JWPlayerEstat.onBufferChange()]")}})},attachEstat:function(){var a=this,b=a.getPos.bind(a);eStat_ms.referenceUI(a.jwpDomElement,"DS",a.params.eStatName,a.params.eStatSection1,a.params.eStatSection2,a.params.eStatSection3,a.params.eStatSection4,a.params.eStatSection5,a.params.eStatGenre,"",b),eStat_ms.TagDS(a.jwpDomElement).setUrl(a.params.eStatName),a.markerReference=eStat_ms.TagDS(a.jwpDomElement).player},detachEstat:function(){try{this.eStatDisabled=!0,eStat_ms.StopMeasurement(this.jwpDomElement)}catch(a){}}};var w={attachPendingPlayers:function(){if(!this.isEstatReady())return void b("eStat API isn't loaded or missing [eStat.attachPendingPlayers()]");for(var a=0,c=this.queue.length;c>a;a++)this.attach.apply(this,this.queue[a]);this.queue.length=0},init:function(a){if(!MediaEngine.config.eStat.disabled){if(!a.id)return b("playerObj.id is missing [eStat.attach()]"),!1;"JWPlayer"!==a.type&&b("eStat isn't working for '"+a.type+"' type. [eStat.init()]"),this.isEstatReady()?this.attach.apply(this,arguments):this.queue.push(arguments)}},attach:function(a,b,c){for(var d=0,e=this.players.length;e>d;d++)if(a.id===this.players[d].id)return;switch(a.eStat={},a.type){case"JWPlayer":this.attachJWP(a,b,c)}this.players.push(a)},attachJWP:function(a,c,d){var e=a.api;if(!e)return b("jwplayer instance within '"+a.id+"' not found [eStat.start()]"),!1;var f=e.getPlaylistItem(),h=g(MediaEngine.config.JWPlayer.defaultOptions.eStat.levels,c),i=h.eStatSection3,j=h.eStatSection4;h.eStatName||(h.eStatName=f.file),!i&&f.sources[0]&&(i=f.sources[0].type,i&&(i="aac"===i||"mp3"===i||"vorbis"===i?"AUDIO":"mp4"===i||"flv"===i||"webm"===i?"VIDEO":"UNKNOWN")),h.eStatSection3=i,j||(j="html5"===e.getRenderingMode()?"HTML5":"FLASH"),h.eStatSection4=j,a.eStat.manager=new k(e,h,d)},detach:function(a,c){if(!a.eStat.manager)return b("eStat manager isn't found [eStat.destroy()]"),!1;if(a.eStat.manager.detachEstat(),a.eStat={},!c){var d=this.players.indexOf(a);d>-1&&this.players.splice(d,1)}},isEstatReady:function(){return a._cmsJS&&a._PJS&&a.eStat_ms?!0:!1},queue:[],players:[]};MediaEngine.eStat={attachPendingPlayers:function(){w.attachPendingPlayers()},attach:function(a,b){var c=h(a);c&&w.init(c,b)},detach:function(a){var b=h(a);b&&w.detach(b,!1)},detachAll:function(){for(var a=0,b=w.players.length;b>a;a++)w.detach(w.players[a],!0);w.players.length=0}};var x={fjs:document.getElementsByTagName("script")[0],load:function(a,b,c){var d;document.getElementById(b)||(d=document.createElement("script"),d.src=a,d.id=b,c&&(d.readyState?d.onreadystatechange=function(){("loaded"==d.readyState||"complete"==d.readyState)&&(d.onreadystatechange=null,c())}:d.onload=function(){c()}),this.fjs.parentNode.insertBefore(d,this.fjs))}},y={setPlayer:function(c,d,e){if(!a.jwplayer)return void b("JWPlayer API isn't loaded or missing [JWPlayer.setPlayer()]");var f=this,h=c.getAttribute("id");if(h){for(var i=0,k=n.length;k>i;i++)if(h===n[i])return b("ID '"+h+"' is duplicated, abort player initialization... [JWPlayer.setPlayer()]"),!1;n.push(h)}else f.counterId+=1,h="media_engine_jw_id_"+f.counterId,c.setAttribute("id",h);var l=g(f.defaultOptions,d);l.advertising=this.getAds(l),jwplayer(c).setup(l),jwplayer(c).onReady(function(){var a={api:this,events:new j,id:h,type:f.playerType};o.push(a),f.addListeners(a),l.eStat.enabled&&w.init(a,l.eStat.levels,l.eStat.live),e&&e(a),f.fireEvent.call(a,"onReady")})},getAds:function(a){return MediaEngine.config.JWPlayer.disableAds||!a.ads.preroll&&!a.ads.preroll?null:(a.ads.preroll?a.advertising.schedule.adbreak1.tag=a.ads.preroll:delete a.advertising.schedule.adbreak1,a.ads.postroll?a.advertising.schedule.adbreak2.tag=a.ads.postroll:delete a.advertising.schedule.adbreak2,a.advertising)},addListeners:function(a){for(var b=this,c=0,d=b.apiEvents.length;d>c;c++)!function(c){a.api[b.apiEvents[c]](function(){var d=s.call(arguments,0,arguments.length);b.fireEvent.call(a,b.apiEvents[c],d)})}(c)},fireEvent:function(a,b){this.events.fire(a,b),y.events.fire("dispatchEvent",a,y.playerType,this.api,b)},events:new j,playerType:"JWPlayer",counterId:0,apiLoaded:!1,apiCalled:!1,defaultOptions:MediaEngine.config.JWPlayer.defaultOptions,apiEvents:["onSetupError","onPlaylist","onPlaylistItem","onPlaylistComplete","onBufferChange","onPlay","onPause","onBuffer","onIdle","onComplete","onError","onSeek","onMute","onVolume","onFullscreen","onResize","onQualityLevels","onQualityChange","onCaptionsList","onCaptionsChange","onControls","onDisplayClick","onAdClick","onAdCompanions","onAdComplete","onAdError","onAdImpression","onAdSkipped","onBeforePlay","onBeforeComplete","onMeta"]},z={setPlayer:function(c,d,e){if(!a.DM)return void b("Dailymotion API is not loaded or missing [DMPlayer.setPlayer()]");var f=this,h=c.getAttribute("id");if(h){for(var k=0,l=n.length;l>k;k++)if(h===n[k])return b("ID '"+h+"' is duplicated, abort player initialization... [DMPlayer.setPlayer()]"),!1;n.push(h)}else f.counterId+=1,h="media_engine_dm_id_"+f.counterId,c.setAttribute("id",h);for(var m=g(f.defaultOptions,d),k=0,l=f.integerParams.length;l>k;k++)m.params[f.integerParams[k]]=i(m.params[f.integerParams[k]]);DM.player(c,{video:m.videoid,width:m.width,height:m.height,params:m.params}).addEventListener("apiready",function(a){var b={api:a.target,events:new j,id:h,type:f.playerType};o.push(b),f.addListeners(b),e&&e(b),f.fireEvent.call(b,"onReady",a)})},addListeners:function(a){for(var b=this,c=0,d=b.apiEvents.length;d>c;c++)!function(c){var d;if("ended"===b.apiEvents[c])d="onComplete";else if("seeked"===b.apiEvents[c])d="onSeek";else if("volumechange"===b.apiEvents[c])d="onVolume";else var d="on"+b.apiEvents[c][0].toUpperCase()+b.apiEvents[c].substring(1);a.api.addEventListener(b.apiEvents[c],function(){var c=s.call(arguments,0,arguments.length);b.fireEvent.call(a,d,c)})}(c)},fireEvent:function(a,b){this.events.fire(a,b),z.events.fire("dispatchEvent",a,z.playerType,this.api,b)},events:new j,counterId:0,playerType:"DMPlayer",apiLoaded:!1,apiCalled:!1,defaultOptions:MediaEngine.config.DMPlayer.defaultOptions,integerParams:["autoplay","webkit-playsinline"],apiEvents:["play","playing","pause","ended","canplay","canplaythrough","progress","seeking","seeked","volumechange","durationchange","fullscreenchange","error"]};a.dmAsyncInit=function(){MediaEngine.config.DMPlayer.api.inject&&(z.apiLoaded=!0,z.events.fire("onDailyAPIReady"),z.events.fire("dispatchEvent","onDailyAPIReady"))};var A={setPlayer:function(c,d,e){if(!a.YT)return void b("Youtube API is not loaded or missing [YTPlayer.setPlayer()]");var f=this,h=c.getAttribute("id");if(h){for(var k=0,l=n.length;l>k;k++)if(h===n[k])return b("ID '"+h+"' is duplicated, abort player initialization... [YTPlayer.setPlayer()]"),!1;n.push(h)}else f.counterId+=1,h="media_engine_yt_id_"+f.counterId,c.setAttribute("id",h);for(var m=g(f.defaultOptions,d),k=0,l=f.integerParams.length;l>k;k++)m.params[f.integerParams[k]]=i(m.params[f.integerParams[k]]);new YT.Player(c,{width:m.width,height:m.height,videoId:m.videoid,playerVars:m.params,events:{onReady:function(a){var b={api:a.target,events:new j,id:h,type:f.playerType};o.push(b),f.addListeners(b),e&&e(b),f.fireEvent.call(b,"onReady",a)}}})},addListeners:function(a){for(var b=this,c=0,d=b.apiEvents.length;d>c;c++)"onStateChange"===b.apiEvents[c]?a.api.addEventListener(b.apiEvents[c],function(c){var d=s.call(arguments,0,arguments.length);switch(c.data){case-1:b.fireEvent.call(a,"onIdle",d);break;case 0:b.fireEvent.call(a,"onComplete",d);break;case 1:b.fireEvent.call(a,"onPlay",d);break;case 2:b.fireEvent.call(a,"onPause",d);break;case 3:b.fireEvent.call(a,"onBuffer",d);break;case 5:b.fireEvent.call(a,"onCued",d)}}):!function(c){a.api.addEventListener(b.apiEvents[c],function(){var d=s.call(arguments,0,arguments.length);b.fireEvent.call(a,b.apiEvents[c],d)})}(c)},fireEvent:function(a,b){this.events.fire(a,b),A.events.fire("dispatchEvent",a,A.playerType,this.api,b)},events:new j,playerType:"YTPlayer",counterId:0,apiLoaded:!1,apiCalled:!1,defaultOptions:MediaEngine.config.YTPlayer.defaultOptions,integerParams:["autoplay","cc_load_policy","enablejsapi","showinfo"],apiEvents:["onStateChange","onPlaybackQualityChange","onPlaybackRateChange","onError","onApiChange"]};a.onYouTubeIframeAPIReady=function(){MediaEngine.config.YTPlayer.api.inject&&(A.apiLoaded=!0,A.events.fire("onYoutubeAPIReady"),A.events.fire("dispatchEvent","onYoutubeAPIReady"))};var B=[],C=[],D=[];MediaEngine.initPlayer=function(a,c,d){var e,f,g,h,i,j;switch(c){case"jwplayer":e=y,g=B,f="jw-api",h=MediaEngine.config.JWPlayer.api.path,i=MediaEngine.config.JWPlayer.api.inject,j=l;break;case"dmplayer":e=z,g=C,f="dm-api",h=MediaEngine.config.DMPlayer.api.path,i=MediaEngine.config.DMPlayer.api.inject;break;case"ytplayer":e=A,g=D,f="yt-api",h=MediaEngine.config.YTPlayer.api.path,i=MediaEngine.config.YTPlayer.api.inject;break;default:b("No type found for '"+c+"' [initPlayer()]")}!e.apiLoaded&&i?(e.apiCalled||(e.apiCalled=!0,x.load(h,f,j)),g.push(arguments)):e.setPlayer(a,d,d.callback)},y.events.addListener("onJwpAPIReady",function(){for(var a=0,b=B.length;b>a;a++)MediaEngine.initPlayer.apply(null,B[a]);B.length=0}),z.events.addListener("onDailyAPIReady",function(){for(var a=0,b=C.length;b>a;a++)MediaEngine.initPlayer.apply(null,C[a]);C.length=0}),A.events.addListener("onYoutubeAPIReady",function(){for(var a=0,b=D.length;b>a;a++)MediaEngine.initPlayer.apply(null,D[a]);D.length=0}),MediaEngine.events=new j,y.events.addListener("dispatchEvent",function(a,b,c,d,e){MediaEngine.events.fire(b,c,d,e)}),z.events.addListener("dispatchEvent",function(a,b,c,d,e){MediaEngine.events.fire(b,c,d,e)}),A.events.addListener("dispatchEvent",function(a,b,c,d,e){MediaEngine.events.fire(b,c,d,e)});var E={dispatch:function(a){return function(c,d){if(!c)return void b("Player ID not found [Methods.dispatch()]");var e=h(c);if(e)if(e.type){if(e.api){var f=E[a](e.type,e.api,d);return"type-notfound"===f?(b("method '"+a+"' is not supported for "+e.type+" [Methods.dispatch()]"),null):f}b("object api not found in player object within ID '"+c+"' [Methods.dispatch()]")}else b("object type not found in player object within ID '"+c+"' [Methods.dispatch()]")}},attach:function(){for(var a=0,b=this.methodsArray.length;b>a;a++)MediaEngine[this.methodsArray[a]]=this.dispatch(this.methodsArray[a])},play:function(a,b){switch(a){case"JWPlayer":case"DMPlayer":b.play();break;case"YTPlayer":b.playVideo();break;default:return"type-notfound"}},pause:function(a,b){switch(a){case"JWPlayer":case"DMPlayer":b.pause();break;case"YTPlayer":b.pauseVideo();break;default:return"type-notfound"}},stop:function(a,b){switch(a){case"JWPlayer":b.stop();break;case"YTPlayer":b.stopVideo();break;default:return"type-notfound"}},seek:function(a,b,c){switch(a){case"JWPlayer":case"DMPlayer":b.seek(c);break;case"YTPlayer":b.seekTo(c);break;default:return"type-notfound"}},mute:function(a,b,c){switch(a){case"JWPlayer":b.setMute(c);break;case"DMPlayer":b.setMuted(c?1:0);break;case"YTPlayer":c?b.mute():b.unMute();break;default:return"type-notfound"}},setVolume:function(a,b,c){switch(a){case"JWPlayer":case"YTPlayer":b.setVolume(c);break;case"DMPlayer":b.setVolume(c/100);break;default:return"type-notfound"}},getDuration:function(a,b){switch(a){case"JWPlayer":case"YTPlayer":var c=b.getDuration();return 0===c&&(c=-1),c;default:return"type-notfound"}},getPosition:function(a,b){switch(a){case"JWPlayer":return b.getPosition();case"YTPlayer":return b.getCurrentTime();default:return"type-notfound"}},getVolume:function(a,b){switch(a){case"JWPlayer":case"YTPlayer":return b.getVolume();default:return"type-notfound"}},getItemMeta:function(a,b){switch(a){case"JWPlayer":return b.getPlaylistItem();case"YTPlayer":var c={};return c.file=b.getVideoUrl(),c;default:return"type-notfound"}},isMuted:function(a,b){switch(a){case"JWPlayer":return b.getMute();case"YTPlayer":return b.isMuted();default:return"type-notfound"}},methodsArray:["play","pause","stop","seek","mute","setVolume","getDuration","getPosition","getVolume","getItemMeta","isMuted"]};E.attach()}(window);