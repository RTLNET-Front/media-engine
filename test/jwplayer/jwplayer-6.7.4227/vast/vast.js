(function(a){a.vast={}})(jwplayer);(function(c){var h=c.vast,a=c.utils,e=c.events,b=".jwvast",f=window,d=true,g=false;c.vast.adcontroller=function(ao,U,ar){var m=ao,aq=ar,I,av=U,x=this,p,aw,G,ad,al=g,J=g,V,D,ac,n=g,o,ai,u,K,M,aj={},q={},ap=g,aa=g;m.onReady(au);function au(){if(m.getRenderingMode()=="flash"){ar.style.visibility="hidden";ad=d}else{ad=g;ar.className="jwvast"}M=new h.staticplayer(m,aq);A();if(U.debug){I=m.id}V=new h.companion(I);Q();var ay=new h.configparser();ay.parse(av);aw=ay.getSchedule();p=ay.getOptParams();m.onBeforePlay(E);m.onTime(X);m.onBeforeComplete(j);m.onComplete(T);m.onResize(Y);m.onFullscreen(F);m.onPlaylistItem(at);m.onPlaylistComplete(at);m.onVolume(ah);m.onMute(O)}function E(){var ay=aw.getPreRoll();if(!ap&&ay){ap=d;o="pre";ay._adTag?N(ay):ax(ay)}}function ah(ay){if(ak()){K.setVolume(ay.volume)}}function O(ay){if(ak()){K.setVolume(ay.mute?0:m.getVolume())}}function X(ay){var az=aw.getNextMidRoll(ay.position);if(az){o="mid";az._adTag?N(az):ax(az)}}function j(){var ay=aw.getPostRoll();if(!aa&&ay){aa=d;o="post";m.detachMedia();ay._adTag?N(ay):ax(ay)}}function at(){aa=g;ap=g;o="";T();aw.reset()}function N(az){u=az._adTag;G=new h.vloader();G.addEventListener(e.COMPLETE,Z);G.addEventListener(e.ERROR,L);var ay=x.doReplacement(u);if(I){c._=c._||{};c._[I]=c._[I]||{};c._[I].actualTag=ay;c._[I].originalTag=u}G.load(ay)}function ax(az){var ay=ae(az._adXML);u="clientloadedtag";G=new h.vloader();G.addEventListener(e.COMPLETE,Z);G.addEventListener(e.ERROR,L);G.xmlComplete({responseXML:ay})}x.doReplacement=function(az){var aC=m.getPlaylistItem(),ay=f.location.href;az=x.doReplace(az,"__random-number__",Math.random()*Math.pow(10,18));az=x.doReplace(az,"__timestamp__",new Date().getTime());az=x.doReplace(az,"__page-url__",encodeURIComponent(ay));az=x.doReplace(az,"__referrer__",encodeURIComponent(document.referrer));az=x.doReplace(az,"__player-height__",m.getHeight());az=x.doReplace(az,"__player-width__",m.getWidth());az=x.doReplace(az,"__domain__",encodeURIComponent(am()));if(p.companion){az=x.doReplace(az,"__companion-div__",p.companion.id)}else{az=x.doReplace(az,"__companion-div__","")}var aE=az.match(new RegExp(/__item-[a-z 0-9 A-Z]*__/g));for(var aB=0;aE&&aB<aE.length;aB++){var aA=aE[aB];var aF=aA.substring(7,aA.length-2);if(aC.hasOwnProperty(aF)&&aC[aF]&&(typeof aC[aF]=="string")){var aD=aC[aF];if(aD.length>1000){aD=aD.substring(0,1000)}az=x.doReplace(az,aA,encodeURIComponent(aD))}else{az=x.doReplace(az,aA,"")}}return az};x.doReplace=function(ay,aA,az){return ay.replace(aA,az)};x.jwPauseAd=function(){var ay=K.getState();if(ay==e.state.PLAYING||ay==e.state.BUFFERING){K.pause()}else{if(ay==e.state.PAUSED){K.play()}}};x.jwPlayAd=function(az){var ay={_adTag:az,_offset:0};if(m.isBeforeComplete()||o=="post"){o="post";aa=d;m.detachMedia();N(ay)}else{if(m.getState()==e.state.PLAYING){o="mid";N(ay)}else{if(m.isBeforePlay()||o=="pre"){ap=d;o="pre";N(ay)}}}};function T(){if(al&&K&&(ak()||l())){K.stop()}}function Z(ay){var aA=(ay&&ay.data&&ay.data.trackers)?ay.data.trackers:{};D=ay.data;T();var az=new h.tracker(aA,I);if(!D.media||!D.media.length){az.error();m.dispatchEvent(e.JWPLAYER_AD_ERROR,{message:"Ad Error: Ad Tag Empty",tag:u});return}if(I){c._[I].trackingURL=ac}if(m.getRenderingMode()=="flash"&&D.media[0].adType&&D.media[0].adType.toLowerCase()=="vpaid"){af(az)}else{if(D.media[0].adType&&D.media[0].adType.toLowerCase()=="static"){ag(az)}else{an(az)}}aj[u]=K}function an(aB){var ay={sources:[]};ai="linear";a.foreach(D.media,function(aE,aC){var aD={};aD.file=aC.file;aD.type=aC.type;ay.sources.push(aD)});var aA=new c.playlist.item(ay),az={skipoffset:(p.skipoffset>=0?p.skipoffset:-1),tag:u,tracker:aB};newSources=a.filterSources(aA.sources,ad);if(!newSources.length){aB.error();m.dispatchEvent(e.JWPLAYER_AD_ERROR,{message:"Ad Error: No Compatible Creatives",tag:u});return}J=g;K=m.loadInstream(ay,az);K.onMute(W);K.onPlay(R);K.onComplete(s);K.onPause(B);K.onTime(w);K.onClick(z);K.onError(ab);K.onAdSkipped(function(aC){m.dispatchEvent(e.JWPLAYER_AD_SKIPPED,{tag:u})});if(m.getRenderingMode()=="flash"){K.onMediaError(ab);K.setClick(D.clickthrough?D.clickthrough:"")}}function A(){M.onPlay(R);M.onError(ab);M.onComplete(s);M.onClick(z)}function ag(ay){ai="nonlinear";if(!ad){aq.style.top="";var az=m.getSafeRegion();a.css(b,{position:"absolute",bottom:((a.bounds(document.getElementById(m.id))).height-(az.y+az.height))+"px",width:"100%"})}K=M;M.playAd(D.media[0].file,D.clickthrough?D.clickthrough:"",D.media[0].minDuration,ay,u)}function af(ay){J=g;K=new h.vpaidplayer(m,D.media[0].file,ay,u,D.adParams);K.onTime(w);K.onClick(z);K.onPause(B);K.onPlay(R);K.onError(ab);K.onComplete(s);K.onExpandedChange(r)}function S(ay){if(ay&&ay.indexOf("://")>=0){if(ay.split("/")[2]!=f.location.href.split("/")[2]){return d}}return g}function L(ay){if(ay.message=="VAST could not be loaded"&&S(ay.url)&&m.getRenderingMode()=="flash"){c._=c._||{};c._[m.id]=c._[m.id]||{};c._[m.id]["_flashLoadSuccess"]=H;c._[m.id]["_flashLoadFail"]=t;m.callInternal("jwLoadXML",ay.url,"jwplayer._['"+m.id+"']._flashLoadSuccess","jwplayer._['"+m.id+"']._flashLoadFail")}else{a.log(ay);var az=G.trackers();if(az&&az.error){(new h.tracker(az,I)).error()}if(o=="post"){m.attachMedia()}m.releaseState();m.dispatchEvent(e.JWPLAYER_AD_ERROR,{message:"Ad Error: Invalid Ad Tag",tag:u})}}function ae(az){var ay="";if(document.implementation&&document.implementation.createDocument){ay=new DOMParser().parseFromString(az,"text/xml")}else{if(window.ActiveXObject){ay=new ActiveXObject("Microsoft.XMLDOM");ay.loadTag(az)}}return ay}function H(az){var ay=ae(az);G.xmlComplete({responseXML:ay})}function t(az){a.log(az);if(o=="post"){m.attachMedia()}var ay=G.trackers();if(ay&&ay.error){(new h.tracker(ay,I)).error()}m.dispatchEvent(e.JWPLAYER_AD_ERROR,{message:"Ad Error: Invalid Ad Tag",tag:u});m.releaseState()}function ab(ay){var aA=k(ay.tag);a.log("Error playing ad");al=g;J=d;if(o=="post"){m.attachMedia()}var az="Ad Error: Error Playing Ad Tag";if(ay.message&&ay.message.indexOf("File could not be played")!=-1){az="Ad Error: Error Playing Creative"}if(aA){aA.error()}m.dispatchEvent(e.JWPLAYER_AD_ERROR,{message:az,tag:u})}function ak(){return C("vpaid")}function y(){return C("instream")}function l(){return C("static")}function C(ay){return K&&K.type==ay}function z(ay){var az=K.getState();if(ak()){if(az!=e.state.PAUSED){K.pause();K.tracker.click();m.dispatchEvent(e.JWPLAYER_AD_CLICK,{tag:u});if(D.clickthrough){f.open(D.clickthrough)}}else{K.play()}return}if((m.getRenderingMode()!="flash")&&((ay.hasControls&&az==e.state.PAUSED)||(!ay.hasControls&&az!=e.state.PAUSED))){K.tracker.click();m.dispatchEvent(e.JWPLAYER_AD_CLICK,{tag:u});if(az!=e.state.PAUSED){K.pause()}if(D.clickthrough){f.open(D.clickthrough)}}else{if(m.getRenderingMode()=="flash"){K.tracker.click();m.dispatchEvent(e.JWPLAYER_AD_CLICK,{tag:u})}else{if(l()){m.dispatchEvent(e.JWPLAYER_AD_CLICK,{tag:u});m.pause();f.open(D.clickthrough)}}}}function W(ay){var az=k(ay.tag);if(!az){return}if(ay.mute){az.mute();if(ak()){K.setVolume(0)}}else{az.unmute();if(ak()){K.setVolume(m.getVolume()/100)}}}function F(ay){var az=k(ay.tag);if(az&&ay.fullscreen&&al){az.fullscreen()}if(ak()){K.resize()}}function Y(ay){if(ak()){K.resize()}}function k(ay){var az=ay?aj[ay]:K;if(az){return az.tracker}}function B(ay){var az=k(ay.tag);if(az){az.pause()}}function R(ay){var az=k(ay.tag);if(!az){return}if(!al){var aA;if(D.companions){aA=i(D.companions);m.dispatchEvent(e.JWPLAYER_AD_COMPANIONS,{tag:u,companions:aA})}if(ak()){ai=ay.linear}ad?aA=D.companions:aA=P(D.companions);if(p.companion&&aA.length){n=V.addCompanion(p.companion,aA)}v();az.addUrl("impression",ac);al=d;az.impression();m.dispatchEvent(e.JWPLAYER_AD_IMPRESSION,{tag:u});az.start();az.creativeView()}else{if(ay.oldstate=="PAUSED"){az.resume()}}}function i(aB){var aD=[];for(var aC=0;aC<aB.length;aC++){var az=aB[aC];var aA=(az.type=="iframe"||az.type=="html")?az.type:"static";var ay={width:az.width,height:az.height,type:aA,resource:az.source,click:az.clickthrough};aD.push(ay)}return aD}function P(ay){var aA=[];for(var az=0;ay&&az<ay.length;az++){if(ay[az].type.indexOf("flash")<0){aA.push(ay[az])}}return aA}function s(ay){var az=k(ay.tag);if(az&&!J){az.complete();az.close();m.dispatchEvent(e.JWPLAYER_AD_COMPLETE,{tag:u})}al=g;if(o=="post"){m.attachMedia()}}function w(ay){var aE=ay.position,az=ay.duration,aC=p.dynamicMessage,aB=p.skipoffset,aD=az-aE,aA=k(ay.tag);if(aA){aA.time(aE,az)}if(aD>0&&y()){if(aC){K.setText(aC.replace(/xx/gi,Math.round(aD)))}}m.dispatchEvent(e.JWPLAYER_AD_TIME,{tag:u,position:aE,duration:az})}function r(ay){var az=k(ay.tag);if(az){ay.expanded?az.expand():az.collapse()}}function am(){var ay=f.location.href;ay=ay.match(new RegExp(/^https?:\/\/([^\/]*)/));if(ay.length>1){return ay[1]}return""}function Q(){var ay=f.location.href;q.domain=am();q.trackingbase=ay.match(/^https/)?"https://s.n.jwpltx.com/v1/adclient/ping.gif":"http://i.n.jwpltx.com/v1/adclient/ping.gif";var az=new a.key(c.key);q.account=az.token();var aA=az.edition();if(aA=="invalid"){q.edition=4}else{if(aA=="ads"){q.edition=3}else{if(aA=="premium"){q.edition=2}else{if(aA=="pro"){q.edition=1}else{q.edition=0}}}}q.hosting=c.defaults&&c.defaults.ph?c.defaults.ph:0}function v(){var ay=new Object(),az=d;ay.d=q.domain;ay.c="vast";ay.m=m.getRenderingMode();ay.a=q.account;ay.co=n;ay.p=o;ay.ad=D.adsystem;ay.type=ai;ay.ph=q.hosting;ay.ed=q.edition;ac=q.trackingbase;a.foreach(ay,function(aB,aA){if(az){ac+="?";az=g}else{ac+="&"}ac+=aB;ac+="=";ac+=aA})}};c().registerPlugin("vast","6.3",c.vast.adcontroller,"vast.swf")})(jwplayer);(function(a){a.vast.companion=function(b){var e=this,i=a.utils,c,j;if(b){a._=a._||{};a._[b]=a._[b]||{};a._[b].companionvast={}}e.addCompanion=function(m,k){c=m;j=document.getElementById(c.id);if(!j){return false}for(var l=0;l<k.length;l++){if(d(k[l])){f(k[l]);return true}}return false};e.removeCompanion=function(){j.innerHTML=""};function g(m){m=m.creativeView;if(!m){return}if(b){a._[b].companionvast.creativeView=a._[b].companionvast.creativeView||[]}for(var k=0;k<m.length;k++){var l=new Image();l.src=m[k];if(b){a._[b].companionvast.creativeView.push(m[k])}}}function h(l,k,m){var n=document.createElement("param");n.setAttribute("name",k);n.setAttribute("value",m);l.appendChild(n)}function f(l){if(l.type=="html"){j.innerHTML=l.source;g(l.trackers);return}if(l.type=="iframe"){var n=document.createElement("iframe");n.height=c.height;n.width=c.width;n.src=l.source;n.scrolling="no";n.style.border="none";n.marginWidth=0;n.marginHeight=0;g(l.trackers);j.innerHTML="";j.appendChild(n);return}if(l.type=="application/x-shockwave-flash"){if(i.isIE()){var m='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" " width="100%" height="100%"id="'+j.id+'" name="'+j.id+'" tabindex=0"">';m+='<param name="movie" value="'+l.source+'">';m+='<param name="allowfullscreen" value="true">';m+='<param name="allowscriptaccess" value="always">';m+='<param name="scale" value="exactfit">';m+='<param name="seamlesstabbing" value="true">';m+='<param name="wmode" value= "opaque">';m+="</object>";j.innerHTML=m}else{var o=document.createElement("object");o.setAttribute("type","application/x-shockwave-flash");o.setAttribute("data",l.source);o.setAttribute("width","100%");o.setAttribute("height","100%");o.setAttribute("tabindex",0);h(o,"allowfullscreen","true");h(o,"allowscriptaccess","always");h(o,"seamlesstabbing","true");h(o,"wmode","opaque");j.appendChild(o)}g(l.trackers);return}var k=new Image();k.src=l.source;if(i.exists(l.clickthrough)){k.onclick=function(p){var q=window.open(l.clickthrough,"_blank");q.focus()}}j.innerHTML="";j.appendChild(k);g(l.trackers)}function d(k){return k.width==c.width&&k.height==c.height}}})(jwplayer);(function(b){var a=b.utils;b.vast.configparser=function(){var f,c,d="Your video will resume in xx seconds.",e=-1;this.parse=function(h){f=new b.vast.schedule();c={};c.dynamicMessage=d;c.skipoffset=e;if(h.companiondiv){var g={};g.id=h.companiondiv.id;g.height=h.companiondiv.height;g.width=h.companiondiv.width;c.companion=g}if(h.admessage){c.dynamicMessage=h.admessage}if(h.skipoffset){c.skipoffset=h.skipoffset}if(h.tag&&typeof h.tag=="string"){var i={};i._offSet="pre";i._adTag=h.tag;f.setPreRoll(i)}else{if(h.vastxml&&typeof h.vastxml=="string"){var i={};i._offSet="pre";i._adXML=h.vastxml;f.setPreRoll(i)}else{a.foreach(h.schedule,function(k,j){var l={};l._offSet=j.offset;if(j.ad&&typeof j.ad.tag=="string"){l._adTag=j.ad.tag}else{if(j.ad&&typeof j.ad.vastxml=="string"){l._adXML=j.ad.vastxml}else{if(j.tag&&typeof j.tag=="string"){l._adTag=j.tag}else{if(j.vastxmlL&&typeof j.vastxml=="string"){l._adXML=j.vastxml}else{a.log("Error: no ad tag provided");return}}}}switch(j.offset){case"pre":f.setPreRoll(l);break;case"post":f.setPostRoll(l);break;default:if(isNaN(j.offset)){}else{f.addMidRoll(l)}break}})}}f.sort()};this.getSchedule=function(){return f};this.getOptParams=function(){return c}}})(jwplayer);(function(a){a.vast.schedule=function(){var d,c=new Array(),b=0,e;this.setPreRoll=function(f){d=f};this.getPreRoll=function(){return d};this.getPostRoll=function(){return e};this.getNextMidRoll=function(g){if(c.length>=b+1){var f=c[b];if(f._offSet<g){b++;return f}}};this.reset=function(){b=0};this.addMidRoll=function(f){c.push(f)};this.setPostRoll=function(f){e=f};this.sort=function(){c.sort(function(g,f){return g._offSet-f._offSet})}}})(jwplayer);(function(d){var a=d.vast,e="PLAYING",h="PAUSED",j="BUFFERING",b="IDLE",c=true,f=false,g=d.utils,i=".jwstatic";a.staticplayer=function(A,v){var l=A,y=v,w=g.css,B=this,n=new d.events.eventdispatcher(),s,o,F=-1,E={CLICK:"onClick",PLAY:"onPlay",PAUSE:"onPause",ERROR:"onError",COMPLETE:"onComplete"};function r(){B.type="static";l.getRenderingMode()=="html5"?o=f:o=c}this.playAd=function(K,J,I,H,G){_staticURL=K,_clickURL=J,_minDur=q(I),B.tracker=H,_loaded=f,_stopped=f,_adTag=G;o?x():m()};function q(H){if(!isNaN(H)){return H}var G=H.split(":");return Number(G[0]*3600+G[1]*60+G[2])}function x(){d._=d._||{};d._[l.id]=d._[l.id]||{};d._[l.id]["_staticLoadSuccess"]=D;d._[l.id]["_staticLoadFail"]=C;setTimeout(function(){l.callInternal("jwLoadStatic",_staticURL,_clickURL,"jwplayer._."+l.id+"._staticLoadSuccess","jwplayer._."+l.id+"._staticLoadFail")},0)}function m(){s=document.createElement("img");s.id=A.id+"_vast_static";s.className="jwstatic";s.onload=function(){k(f)};s.onerror=function(){k(c)};s.src=_staticURL;setTimeout(function(){k(c)},2000)}function D(){if(_minDur>0){l.onTime(p)}z(E.PLAY);d._[l.id]["_clickHandler"]=u;l.callInternal("jwAddClickHandler","jwplayer._."+l.id+"._clickHandler")}function p(G){if(F<0){F=G.position}else{var H=G.position-F;if(H>_minDur&&!_stopped){_stopped=c;B.stop()}}}function C(){z(E.ERROR)}function u(){if(l.getState()=="PLAYING"){l.pause()}z(E.CLICK)}function k(G){if(!_loaded&&G){_loaded=c;z(E.ERROR)}else{if(!_loaded){y.appendChild(s);_loaded=c;w(i,{cursor:"pointer",position:"relative"});s.style.marginLeft=s.style.marginRight="auto";if(_minDur>0){l.onTime(p)}z(E.PLAY);if(g.isMobile()){var H=new g.touch(s);H.addEventListener(g.touchEvents.TAP,function(I){u()})}else{s.addEventListener("click",u)}}}}function z(G,H){H=H||{};if(!H.tag){H.tag=_adTag}n.sendEvent(G,H)}function t(G){return function(H){n.addEventListener(G,H)}}B.getState=function(){return e};B.stop=function(){if(o){setTimeout(function(){l.callInternal("jwDestroyStatic")},0)}else{y.removeChild(s)}z(E.COMPLETE)};B.pause=function(){};B.onTime=t(E.TIME);B.onComplete=t(E.COMPLETE);B.onClick=t(E.CLICK);B.onPlay=t(E.PLAY);B.onPause=t(E.PAUSE);B.onError=t(E.ERROR);r()}})(jwplayer);(function(a){a.vast.tracker=function(e,b){var c=0,g=this,h;if(b){a._=a._||{};a._[b]=a._[b]||{};a._[b].trackedvast=a._[b].trackedvast||{};h=a._[b].trackedvast}function i(k){if(e.hasOwnProperty(k)){return e[k]}return[]}g.addUrl=function(l,k){if(e.hasOwnProperty(l)){e[l].push(k)}else{e[l]=new Array();e[l].push(k)}};function j(l){var n=i(l),k;if(h){h[l]=(h[l]||[])}for(k=0;k<n.length;k++){var m=new Image();m.src=n[k];if(h){h[l].push(n[k])}}}function d(n,m){var o=0.25*m,l=0.5*m,k=0.75*m;if(n>=o&&c<o){j("firstQuartile")}else{if(n>=l&&c<l){j("midpoint")}else{if(n>=k&&c<k){j("thirdQuartile")}}}c=n}function f(k){return function(){j(k)}}g.creativeView=f("creativeView");g.start=f("start");g.click=f("click");g.complete=f("complete");g.pause=f("pause");g.resume=f("resume");g.mute=f("mute");g.unmute=f("unmute");g.fullscreen=f("fullscreen");g.expand=f("expand");g.collapse=f("collapse");g.acceptInvitation=f("acceptInvitation");g.close=f("close");g.rewind=f("rewind");g.impression=f("impression");g.error=f("error");g.time=d}})(jwplayer);(function(b){var c=b.events,a=b.utils,d=b.vast;d.vloader=function(){var l=this,f,g={};function j(){a.extend(l,new c.eventdispatcher())}l.load=function(m){f=m;a.ajax(f,i,e)};l.xmlComplete=i;l.trackers=function(){return g.trackers};function i(n){try{new d.vparser().parse(n.responseXML,g);if(g.wrappedURI){var m=a.getAbsolutePath(g.wrappedURI,f);delete g.wrappedURI;l.load(m)}else{h(g)}}catch(o){k(c.ERROR,"There was an error parsing VAST response")}}function e(m){if(m=="Invalid XML"){k(c.ERROR,"Invalid XML")}else{k(c.ERROR,{message:"VAST could not be loaded",url:f})}}function h(m){if(m){k(c.COMPLETE,{data:m})}else{k(c.ERROR,"There was an error parsing VAST response")}}function k(m,n){return l.sendEvent(m,n)}j()}})(jwplayer);(function(a){a.vast.vpaidevents={AD_LOADED:"AdLoaded",AD_STARTED:"AdStarted",AD_STOPPED:"AdStopped",AD_LINEAR_CHANGE:"AdLinearChange",AD_EXPANDED_CHANGE:"AdExpandedChange",AD_REMAINING_TIME_CHANGE:"AdRemainingTimeChange",AD_VOLUME_CHANGE:"AdVolumeChange",AD_IMPRESSION:"AdImpression",AD_VIDEO_START:"AdVideoStart",AD_VIDEO_FIRST_QUARTILE:"AdVideoFirstQuartile",AD_VIDEO_MIDPOINT:"AdVideoMidpoint",AD_VIDEO_THIRD_QUARTILE:"AdVideoThirdQuartile",AD_VIDEO_COMPLETE:"AdVideoComplete",AD_CLICK_THRU:"AdClickThru",AD_USER_ACCEPT_INVITATION:"AdUserAcceptInvitation",AD_USER_MINIMIZE:"AdUserMinimize",AD_USER_CLOSE:"AdUserClose",AD_PAUSED:"AdPaused",AD_PLAYING:"AdPlaying",AD_LOG:"AdLog",AD_ERROR:"AdError"}})(jwplayer);(function(d){var h=d.vast,b="PLAYING",c="PAUSED",a="BUFFERING",g="IDLE",e=true,f=false;h.vpaidplayer=function(Q,z,F,M,y){var p=Q,N,R=z,C=f,T=-1,r=f,o=this,i=new d.events.eventdispatcher(),I=h.vpaidevents,l=M,O=y,J={TIME:"onTime",CLICK:"onClick",PLAY:"onPlay",PAUSE:"onPause",ERROR:"onError",COMPLETE:"onComplete",EXPANDED_CHANGE:"onExpandedChange"};function P(){o.tracker=F,o.type="vpaid",d._=d._||{};d._[p.id]=d._[p.id]||{};p.callInternal("jwLoadVPAID",R,k(u),k(S))}function u(){D(I.AD_LOADED,w);D(I.AD_STARTED,H);D(I.AD_LINEAR_CHANGE,q);D(I.AD_EXPANDED_CHANGE,s);D(I.AD_PAUSED,G);D(I.AD_PLAYING,K);D(I.AD_STOPPED,A);D(I.AD_REMAINING_TIME_CHANGE,E);D(I.AD_CLICK_THRU,m);D(I.AD_ERROR,S);j("initAd",p.getWidth(),p.getHeight(),p.getFullscreen()?"fullscreen":"normal",0,y)}function S(){v(J.ERROR)}function v(U,V){V=V||{};if(!V.tag){V.tag=l}i.sendEvent(U,V)}this.setVolume=function(U){n("adVolume",U)};function w(){q();n("adVolume",p.getMute()?0:p.getVolume()/100);j("startAd")}function H(){v(J.PLAY,{oldstate:a,newstate:b,linear:N?"linear":"nonlinear"})}function m(){v(J.CLICK)}function q(){var V=p.getState();N=B("adLinear");if(N){if(V==b||V==a){C=e;p.pause();p.setControls(f)}}else{if(C){p.play(e);p.setControls(e)}}if(!N){var U=p.getSafeRegion();j("resizeAd",p.getWidth(),U.height+U.y,p.getFullscreen()?"fullscreen":"normal")}else{j("resizeAd",p.getWidth(),Q.getHeight(),p.getFullscreen()?"fullscreen":"normal")}}function s(){var U=B("adExpanded");v(J.EXPANDED_CHANGE,{expanded:U})}function A(){if(C){p.play(e);p.setControls(e)}v(J.COMPLETE)}function G(){if(!r){r=e;v(J.PAUSE,{newstate:c,oldstate:b})}}function K(){if(r){r=f;v(J.PLAY,{newstate:b,oldstate:c})}}function E(){var U=B("adRemainingTime");if(T<0){T=U}v(J.TIME,{position:T-U,duration:T})}function j(){var U=Array.prototype.slice.call(arguments);U.unshift("jwCallVPAID");setTimeout(function(){p.callInternal.apply(this,U)},0)}function B(U){return p.callInternal("jwGetVPAIDProperty",U)}function n(V,U){p.callInternal("jwSetVPAIDProperty",V,U)}function D(U,V){p.callInternal("jwAddVPAIDListener",U,k(V))}function k(V){var U="_vpaidBridge"+Math.floor(Math.random()*10000);d._[p.id][U]=t(V);return"jwplayer._['"+p.id+"']['"+U+"']"}function t(U){return function(){setTimeout(U,0)}}function L(U){return function(V){i.addEventListener(U,V)}}function x(U){d.vpaidEventHandler(U)}o.setVolume=function(U){n("adVolume",U/100)};o.onTime=L(J.TIME);o.onComplete=L(J.COMPLETE);o.onClick=L(J.CLICK);o.onPlay=L(J.PLAY);o.onPause=L(J.PAUSE);o.onError=L(J.ERROR);o.onExpandedChange=L(J.EXPANDED_CHANGE);o.play=function(){j("resumeAd")};o.pause=function(){j("pauseAd")};o.stop=function(){j("stopAd")};o.resize=function(U){if(!N){var V=p.getSafeRegion();j("resizeAd",p.getWidth(),V.height+V.y,U?"fullscreen":"normal")}else{j("resizeAd",p.getWidth(),Q.getHeight(),U?"fullscreen":"normal")}};o.getState=function(){if(!B("adLinear")){return g}else{return r?c:b}};P()}})(jwplayer);(function(c){var d=c.events,a=c.utils,b=a.extensionmap;c.vast.vparser=function(){var o=c.parsers,j=o.textContent;function k(p,q){if(!p){return[]}return p.getElementsByTagName(q)}function n(p,q){if(!p){return null}return p.getAttribute(q)}this.parse=function(t,s){var r=k(t,"VAST")[0]?k(t,"VAST")[0]:k(t,"VideoAdServingTemplate")[0],u=r.tagName=="VideoAdServingTemplate"?1:n(r,"version"),w=k(r,"Ad")[0],v=k(w,"InLine")[0],p=k(w,"Wrapper")[0],q=v?v:p,x;s.adsystem=j(k(t,"AdSystem")[0]);if(u==""||u>2||u<1){throw"Vast version not supported";return}if(q){if(u==2){g(q,s);e(q,"Impression",s.trackers);e(q,"Error",s.trackers)}else{h(q,s)}if(p){s.wrappedURI=j(k(p,"VASTAdTagURI")[0])||j(k(p,"VASTAdTagURL")[0])}}else{throw"Invalid VAST response"}};function e(s,r,t){var p=k(s,r),q;for(q=0;q<p.length;q++){i(t,r.toLowerCase(),j(p[q]))}}function i(r,q,p){if(!r[q]){r[q]=[]}r[q].push(p)}function g(u,q){var D=k(k(u,"Creatives")[0],"Creative"),v=q.trackers?q.trackers:{},y,t,r,w,B,x,p,s,z,A,C;for(t=0;t<D.length;t++){y=D[t];w=k(y,"Linear")[0];B=k(y,"NonLinear")[0];x=k(k(y,"TrackingEvents")[0],"Tracking");if(w||B){for(r=0;r<x.length;r++){p=x[r];i(v,n(p,"event"),j(p))}}s=j(k(y,"AdParameters")[0]);if(s){q.adParams=s}if(w){z=k(w,"VideoClicks")[0];A=j(k(z,"ClickThrough")[0]);C=j(k(z,"ClickTracking")[0]);if(A){q.clickthrough=A}if(C){i(v,"click",C)}f(w,q)}else{if(B){A=j(k(B,"NonLinearClickThrough")[0]);if(A){q.clickthrough=A}m(y,q)}else{l(y,q)}}}q.trackers=v}function h(C,r){var w=k(C,"Video")[0],t=k(C,"NonLinear")[0],u=r.trackers?r.trackers:{},G,E,x,v,p,H,B,I,q,s,y,z;if(w){G=k(k(C,"TrackingEvents")[0],"Tracking");for(E=0;E<G.length;E++){x=G[E];i(u,n(x,"event"),j(x))}v=k(k(C,"Impression")[0],"URL");for(E=0;E<v.length;E++){x=v[E];i(u,"impression",j(x))}p=k(k(C,"Error")[0],"URL");for(E=0;E<p.length;E++){x=p[E];i(u,"error",j(x))}I=k(w,"VideoClicks")[0];q=j(k(I,"ClickThrough")[0]);s=j(k(I,"ClickTracking")[0]);if(q){r.clickthrough=q}if(s){i(u,"click",s)}f(w,r);y=k(w,"AdParameters")[0];if(y){z=n(y,"apiFramework");if(z.toLowerCase()=="vpaid"){for(var F=0;F<r.media.length;F++){r.media[F].adType=z}r.adParams=j(y)}}}else{if(t){var D=[],A=k(t,"URL")[0];D.push({type:n(t,"creativeType"),file:j(A),adType:n(t,"apiFramework")});r.media=D}}H=k(C,"CompanionAds")[0];H=k(H,"Companion");if(!r.companions){r.companions=[]}for(E=0;E<H.length;E++){B=H[E];r.companions.push({width:parseInt(n(B,"width")),height:parseInt(n(B,"height")),type:n(B,"resourceType"),resource:j(k(B,"URL")[0]),trackers:[],clickthrough:""})}r.trackers=u}function f(q,r){var p=k(k(q,"MediaFiles")[0],"MediaFile"),u=r.media?r.media:[],s,t;for(t=0;t<p.length;t++){u.push({type:n(p[t],"type"),file:j(p[t]),adType:n(p[t],"apiFramework")||""})}r.media=u}function m(s,p){var r=[],q=k(s,"StaticResource")[0];if(q){r.push({type:n(q,"creativeType"),file:j(q),adType:n(k(s,"NonLinear")[0],"apiFramework")||"static",minDuration:n(k(s,"NonLinear")[0],"minSuggestedDuration")||"00:00:00"});p.media=r}}function l(y,r){var D=k(k(y,"CompanionAds")[0],"Companion"),A,u,s,B,C,t,p,q,z,x,v=r.companions?r.companions:[];for(u=0;u<D.length;u++){A=D[u];B=k(A,"StaticResource")[0];C=k(A,"IFrameResource")[0];t=k(A,"HTMLResource")[0];var w={};if(B){p=n(B,"creativeType");q=j(B)}else{if(C){p="iframe";q=j(C)}else{if(t){p="html";q=j(t)}}}companionTrackerXML=k(k(A,"TrackingEvents")[0],"Tracking");for(s=0;s<companionTrackerXML.length;s++){z=n(companionTrackerXML[s],"event");i(w,z,j(companionTrackerXML[s]))}x=j(k(A,"CompanionClickThrough")[0]);v.push({width:parseInt(n(A,"width")),height:parseInt(n(A,"height")),type:p,source:q,trackers:w,clickthrough:x})}r.companions=v}}})(jwplayer);